{"uid":"2efe596fb40ead2f","name":"Тест: Поиск книги по части названия в Москве","fullName":"test.test_api.TestBooksAPI#test_api_search_book_moscow","historyId":"9e7f8269f3a680f75ef06e14e5c60a95","time":{"start":1734955832122,"stop":1734955832700,"duration":578},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1734955832044,"stop":1734955832121,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"shopping_books","time":{"start":1734955832121,"stop":1734955832121,"duration":0},"status":"passed","steps":[{"name":"Класс BooksApi содержит методы для работы с интернет-магазином \"Читай-город\"","time":{"start":1734955832121,"stop":1734955832121,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://web-gate.chitai-gorod.ru'"}],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":1,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"1. Поиск книги по части названия в Москве с учетом регистра","time":{"start":1734955832122,"stop":1734955832700,"duration":578},"status":"passed","steps":[{"name":"Ввод города и названия книги","time":{"start":1734955832122,"stop":1734955832122,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Поиск книги с заголовком: \"Гарри Поттер и Проклятое дитя.\" в городе с ID: 213","time":{"start":1734955832122,"stop":1734955832700,"duration":578},"status":"passed","steps":[{"name":"Api. Поиск книг по названию","time":{"start":1734955832122,"stop":1734955832700,"duration":578},"status":"passed","steps":[{"name":"Подготовка параметров запроса","time":{"start":1734955832122,"stop":1734955832699,"duration":577},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Обработка ответа","time":{"start":1734955832699,"stop":1734955832699,"duration":0},"status":"passed","steps":[{"name":"Возврат результата","time":{"start":1734955832699,"stop":1734955832699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"city_id","value":"'213'"},{"name":"value","value":"'Гарри Поттер и Проклятое дитя.'"}],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Статус-код = 200","time":{"start":1734955832700,"stop":1734955832700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Api. Наличие книги в результатах поиска","time":{"start":1734955832700,"stop":1734955832700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"expected_title","value":"'Гарри Поттер и Проклятое дитя.'"},{"name":"resp_search","value":"{'data': {'attributes': {'strategy': 'byTitleWithoutCorrection', 'transformedPhrase': 'гарри поттер и проклятое дитя.'}, 'id': 'ee07b4b5-8136-401a-b190-3d48d79be61f', 'relationships': {'products': {'data': [{'id': '2625055', 'type': 'product'}, {'id': '2561460', 'type': 'product'}], 'meta': {'pagination': {'count': 2, 'current_page': 1, 'per_page': 20, 'total': 2, 'total_pages': 1}}}, 'tabs': {'data': [{'id': '5', 'type': 'publisherSeriesTab'}, {'id': '4', 'type': 'bookCycleTab'}, {'id': '2', 'type': 'publisherTab'}, {'id': '1', 'type': 'authorTab'}, {'id': '6', 'type': 'bookCollectionTab'}, {'id': '7', 'type': 'articleTab'}, {'id': '3', 'type': 'productTab'}]}}, 'type': 'searchProductResult'}, 'included': [{'attributes': {'authors': [{'firstName': 'Джоан Кэтлин', 'id': 604355, 'isForeignAgent': False, 'lastName': 'Роулинг', 'middleName': '', 'url': 'rouling-dzhoan-ketlin'}], 'bestseller': False, 'binding': '', 'category': {'id': 110094, 'slug': 'fantastika-i-fehntezi-dlya-detej', 'title': 'Фантастика и фэнтези для детей', 'url': 'fantastika-i-fehntezi-dlya-detej'}, 'categoryChain': ['Книги', 'Детские книги', 'Детская художественная литература', 'Фантастика и фэнтези для детей'], 'coauthors': [], 'code': '2625055', 'description': '', 'discount': '22', 'exclusive': False, 'id': 2625055, 'inSubscription': False, 'isBook': True, 'isBookmarks': False, 'isPurchased': False, 'new': False, 'oldPrice': 1067, 'originalPicture': '/pim/products/images/a0/6e/0192d7dc-dd68-734f-a52b-aace82e7a06e.jpg', 'pages': '', 'picture': '/pim/products/images/a0/6e/0192d7dc-dd68-734f-a52b-aace82e7a06e.jpg', 'price': 832, 'publisher': {'id': 116515, 'slug': 'azbuka', 'title': 'Азбука'}, 'rating': {'count': '3.33', 'reviews': 0, 'votes': 574}, 'recommended': False, 'sale': False, 'saleSoon': False, 'startSale': None, 'status': 'offline', 'title': 'Гарри Поттер и Проклятое дитя. Части первая и вторая. Финальная версия сценария', 'url': 'product/garri-potter-i-proklyatoe-ditya-chasti-pervaya-i-vtoraya-finalnaya-versiya-scenariya-2625055', 'yearPublishing': 2024}, 'id': '2625055', 'type': 'product'}, {'attributes': {'authors': [{'firstName': 'Джоан Кэтлин', 'id': 604355, 'isForeignAgent': False, 'lastName': 'Роулинг', 'middleName': '', 'url': 'rouling-dzhoan-ketlin'}], 'bestseller': False, 'binding': '', 'category': {'id': 110094, 'slug': 'fantastika-i-fehntezi-dlya-detej', 'title': 'Фантастика и фэнтези для детей', 'url': 'fantastika-i-fehntezi-dlya-detej'}, 'categoryChain': ['Книги', 'Детские книги', 'Детская художественная литература', 'Фантастика и фэнтези для детей'], 'coauthors': [], 'code': '2561460', 'description': '', 'discount': '22', 'exclusive': False, 'id': 2561460, 'inSubscription': False, 'isBook': True, 'isBookmarks': False, 'isPurchased': False, 'new': False, 'oldPrice': 816, 'originalPicture': '/pim/products/images/75/e3/018f5d00-1c95-7f59-986a-4333df2875e3.jpg', 'pages': '', 'picture': '/pim/products/images/75/e3/018f5d00-1c95-7f59-986a-4333df2875e3.jpg', 'price': 637, 'publisher': {'id': 116515, 'slug': 'azbuka', 'title': 'Азбука'}, 'rating': {'count': '2.85', 'reviews': 0, 'votes': 157}, 'recommended': False, 'sale': False, 'saleSoon': False, 'startSale': None, 'status': 'offline', 'title': 'Гарри Поттер и Проклятое дитя. Части первая и вторая (Специальное репетиционное издание сценария)', 'url': 'product/rouling-garri-potter-i-proklyatoe-ditya-chast-1-i-2-2561460', 'yearPublishing': 2017}, 'id': '2561460', 'type': 'product'}, {'attributes': {'count': 0}, 'id': '5', 'type': 'publisherSeriesTab'}, {'attributes': {'count': 0}, 'id': '4', 'type': 'bookCycleTab'}, {'attributes': {'count': 0}, 'id': '2', 'type': 'publisherTab'}, {'attributes': {'count': 0}, 'id': '1', 'type': 'authorTab'}, {'attributes': {'count': 4}, 'id': '6', 'type': 'bookCollectionTab'}, {'attributes': {'count': 7}, 'id': '7', 'type': 'articleTab'}, {'attributes': {'count': 2}, 'id': '3', 'type': 'productTab'}], 'meta': {'shopType': 0}}"}],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Вывод найденных книг","time":{"start":1734955832700,"stop":1734955832700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнение искомой книги с найденными книгами","time":{"start":1734955832700,"stop":1734955832700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"shopping_books","value":"<pages.books_api.BooksApi object at 0x000002099CBAE870>"}],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":10,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"aa181e80b2724fc2","name":"stdout","source":"aa181e80b2724fc2.txt","type":"text/plain","size":361}],"parameters":[],"attachmentsCount":1,"shouldDisplayMessage":false,"stepsCount":11,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"shopping_books::0","time":{"start":1734955844030,"stop":1734955844030,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"severity","value":"normal"},{"name":"story","value":"Поиск книг"},{"name":"suite","value":"API. Поиск книг в интернет-магазине \"Читай-город\""},{"name":"feature","value":"API.Главная страница"},{"name":"epic","value":"API. Интернет-магазин Читай-город"},{"name":"tag","value":"positive"},{"name":"parentSuite","value":"test"},{"name":"subSuite","value":"TestBooksAPI"},{"name":"host","value":"DESKTOP-RMNHQR9"},{"name":"thread","value":"23592-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.test_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["positive"]},"source":"2efe596fb40ead2f.json","parameterValues":[]}